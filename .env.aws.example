# ========================================
# Configuração AWS - Sistema de Reservas
# ========================================
# Copie este arquivo para .env.aws e preencha com seus valores reais
# NUNCA commite o arquivo .env.aws com credenciais reais!

# --- AWS Credentials ---
AWS_REGION=us-east-1
AWS_ACCOUNT_ID=123456789012

# --- Database Configuration (RDS Aurora) ---
# Endpoint do RDS (obtenha no console AWS)
DB_HOST=reservas-cluster.cluster-xxxxx.us-east-1.rds.amazonaws.com
DB_USER=admin
DB_PASSWORD=SuaSenhaSegura123!
DB_NAME=reservas_db
DB_PORT=3306

# --- Redis Configuration (ElastiCache) ---
# Endpoint do ElastiCache (obtenha no console AWS)
REDIS_HOST=reservas-redis.xxxxx.0001.use1.cache.amazonaws.com
REDIS_PORT=6379

# --- JWT Configuration ---
# IMPORTANTE: Use um secret forte e único para produção!
# Gere com: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=seu-jwt-secret-super-seguro-aqui-64-caracteres-minimo

# --- Application Configuration ---
NODE_ENV=production

# Portas dos serviços (dentro dos containers)
USUARIOS_PORT=3000
RESERVAS_PORT=3001

# --- DynamoDB Configuration (Alternativa ao RDS) ---
# Descomente se usar DynamoDB em vez de RDS
# DYNAMODB_USERS_TABLE=usuarios-prod
# DYNAMODB_RESERVATIONS_TABLE=reservas-prod
# AWS_ACCESS_KEY_ID=sua-access-key
# AWS_SECRET_ACCESS_KEY=sua-secret-key

# --- Load Balancer ---
# URL do Application Load Balancer (após criação)
ALB_DNS_NAME=reservas-alb-123456789.us-east-1.elb.amazonaws.com

# --- CloudFront ---
# URL da distribuição CloudFront (após criação)
CLOUDFRONT_DOMAIN=d1234567890abc.cloudfront.net

# --- Monitoring & Logging ---
LOG_LEVEL=info
CLOUDWATCH_LOG_GROUP=/ecs/reservas

# --- Security Groups ---
# IDs dos Security Groups (obtenha no console AWS)
SG_ALB=sg-0123456789abcdef0
SG_ECS=sg-0123456789abcdef1
SG_RDS=sg-0123456789abcdef2
SG_REDIS=sg-0123456789abcdef3

# --- VPC & Subnets ---
VPC_ID=vpc-0123456789abcdef
SUBNET_PUBLIC_1=subnet-0123456789abcdef0
SUBNET_PUBLIC_2=subnet-0123456789abcdef1
SUBNET_PRIVATE_1=subnet-0123456789abcdef2
SUBNET_PRIVATE_2=subnet-0123456789abcdef3

# --- ECS Configuration ---
ECS_CLUSTER_NAME=reservas-cluster
ECS_TASK_EXECUTION_ROLE=arn:aws:iam::123456789012:role/ecsTaskExecutionRole

# --- S3 Bucket ---
S3_FRONTEND_BUCKET=reservas-frontend-prod

# --- Domain & SSL ---
DOMAIN_NAME=reservas.seudominio.com
ACM_CERTIFICATE_ARN=arn:aws:acm:us-east-1:123456789012:certificate/xxxxx

# --- Backup & Disaster Recovery ---
RDS_BACKUP_RETENTION_DAYS=7
RDS_SNAPSHOT_IDENTIFIER=reservas-snapshot-latest

# --- Auto Scaling ---
ECS_MIN_TASKS=2
ECS_MAX_TASKS=10
ECS_TARGET_CPU_UTILIZATION=70

# --- Cost Optimization ---
# Use 'true' para ambientes de desenvolvimento (desliga recursos fora do horário)
AUTO_SHUTDOWN_ENABLED=false
AUTO_SHUTDOWN_SCHEDULE=cron(0 22 * * ? *)  # 22:00 UTC
AUTO_STARTUP_SCHEDULE=cron(0 6 * * ? *)    # 06:00 UTC
